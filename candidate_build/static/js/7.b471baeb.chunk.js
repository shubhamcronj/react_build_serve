(this["webpackJsonpbirbal-candidate-app"]=this["webpackJsonpbirbal-candidate-app"]||[]).push([[7],{212:function(e,t,a){"use strict";a.r(t),a.d(t,"Preview",(function(){return W}));var s=a(9),n=a.n(s),i=a(80),o=a(46),r=a(47),c=a(64),l=a(63),d=a(0),u=a.n(d),m=a(282),p=a(15),h=a(33),v=a(236),f=(a(655),a(256)),g=a.n(f),b=(a(656),a(657),a(661)),w=a.n(b),A=a(662),y=a.n(A),E=a(663),x=a.n(E),S=a(135),N=a.n(S),C=a(253),k=a(241),I=a(658),D=a.n(I);function O(e){return u.a.createElement("div",null,u.a.createElement(k.a,{open:e.isShowModal,onClose:e.onCloseModal,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",onBackdropClick:e.onCloseModal,disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0,style:{zIndex:200,position:"absolute",top:"10%",margin:"auto",overflow:"scroll",height:"100%",display:"flex",justifyContent:"center"}},u.a.createElement("div",{className:e.className?e.className:null},e.showClose&&u.a.createElement("div",{onClick:e.onCloseModal2,style:e.styleIcon?e.styleIcon:{position:"absolute",right:"10px",cursor:"pointer"}},e.icon?u.a.createElement("img",{src:e.icon,width:"20px",alt:""}):u.a.createElement(D.a,{style:{color:"#6B6C6F",fontSize:"large"}})),e.children)))}a(659);var M=a(13),j=a(28),U=a(32),R=a(250),P=a.n(R),F=a(664),B=(a(267),a(712)),L=a(268),z=a.n(L),V=a(660),T=a.n(V),q=a(91),Q=a(251),W=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(i.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props&&s.props.history&&s.props.history.location&&s.props.history.location.state,a=t.response,e.next=3,s.setState({responseId:a.id});case 3:return q.a.pageview(window.location.pathname),window.onbeforeunload=function(){return!0},e.next=7,navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){s.setState({audioAccess:!0})})).catch((function(e){s.setState({audioAccess:!1,isShowModal:!0}),s.props.UserAction.addEvent({responseId:s.state.responseId,event:{type:"interview",event:"Preview check failed",message:"Audio Access not granted",timestamp:(new Date).toISOString()}})}));case 7:return e.next=9,navigator.mediaDevices.getUserMedia({video:s.state.video}).then((function(e){s.setState({videoAccess:!0}),s.capture()})).catch((function(){s.setState({videoAccess:!1,isShowModal:!0}),s.props.UserAction.addEvent({responseId:s.state.responseId,event:{type:"interview",event:"Preview check failed",message:"Camera Access not granted",timestamp:(new Date).toISOString()}})}));case 9:return s.state.videoAccess||s.state.audioAccess?!s.state.videoAccess&&s.state.audioAccess?s.setState({source:"https://birbal.s3.ap-south-1.amazonaws.com/assets/allow_cam.mp4"}):s.state.videoAccess&&!s.state.audioAccess&&s.setState({source:"https://birbal.s3.ap-south-1.amazonaws.com/assets/allow_mic.mp4"}):s.setState({source:"https://birbal.s3.ap-south-1.amazonaws.com/assets/allow_both.mp4"}),e.next=12,s.getMicrophone();case 12:case"end":return e.stop()}}),e)}))),s.displaySpeed=function(){localStorage.getItem("uploadSpeed")&&localStorage.getItem("uploadSpeed")<1&&s.state.faces&&(s.props.UserAction.addEvent({responseId:s.state.responseId,event:{type:"interview",event:"Preview check failed",message:"Internet not stable",timestamp:(new Date).toISOString()}}),s.setState({showDialog:!0}))},s.handleScreenAccess=function(){s.childRef.current.getAccess(),s.setState({showDialogScreen:!1})},s.onScreenAccess=Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({screenAccess:!0});case 2:s.displaySpeed();case 3:case"end":return e.stop()}}),e)}))),s.capture=function(){var e,t=s.webcamRef&&s.webcamRef.current&&s.webcamRef.current.getScreenshot();e=t&&t.substring("data:image/jpeg;base64".length+1)?t.substring("data:image/jpeg;base64".length+1):"notfound",s.setState({screenShot:e}),s.props.UserAction.verifyScreenshot({base64:e})},s.handleInterview=function(){var e,t,a,n="",i=[],o=[],r=[],c=s.props&&s.props.history&&s.props.history.location&&s.props.history.location.state,l=c.response,d=c.questions,u=c.newResponse,m=l.questionType,p=l.mcqQuestions,h=l.verbalQuestions,v=l.codingQuestions,f=m&&m.length>0&&m.map((function(e){return e.name&&e.name.toLowerCase()}));p&&p.length>0&&p.map((function(e){if(1===e.statusCode){var t=d&&d.length>0&&d.find((function(t){return e.id===t.id}));t&&o.push(t)}})),v&&v.length>0&&v.map((function(e){if(1===e.statusCode){var t=d&&d.length>0&&d.find((function(t){return e.id===t.id}));t&&r.push(t)}})),h&&h.length>0&&h.find((function(e){if(1===e.statusCode){var t=d&&d.length>0&&d.find((function(t){return e.id===t.id}));t&&i.push(t)}})),e=o.length,t=i.length,a=r.length,e>0&&t>0&&a>0?n=f&&f.length>0&&f[0]:e>0&&(0===t||0===a)?n="mcq":a>0&&(0===t||0===e)?n="coding":(0===e||0===a)&&t>0&&(n="verbal"),0===e&&0===t&&0===a?(l&&s.state.responseId&&s.props.UserAction.addEvent({responseId:s.state.responseId,event:{type:"debug",level:3,metadata:{Page:"Congratulation"},timestamp:(new Date).toISOString()}}),s.props.history.push({pathname:"/congratulation"}),localStorage.setItem("preview",!0)):(console.log({data:{response:l,questions:d,newResponse:u},totalMcq:e,totalVerbal:t,totalCoding:a,sequenceOrder:n,verbalQuestions:i,mcqQuestions:o,codingQuestions:r,order:f}),navigator.mediaDevices.getUserMedia({video:s.state.video,audio:s.state.audio}).then((function(c){s.setState({alert:!1,enter:!0}),setTimeout((function(){l&&s.state.responseId&&s.props.UserAction.addEvent({responseId:s.state.responseId,event:{type:"debug",level:3,metadata:{Page:"Start Interview"},timestamp:(new Date).toISOString()}}),s.props.UserAction.addEvent({responseId:s.state.responseId,event:{type:"interview",event:"Preview check passed",timestamp:(new Date).toISOString()}}),s.props.history.push({pathname:"/interview-process",state:{data:{response:l,questions:d,newResponse:u},totalMcq:e,totalVerbal:t,totalCoding:a,sequenceOrder:n,verbalQuestions:i,mcqQuestions:o,codingQuestions:r,order:f}})}),1e3),localStorage.setItem("preview",!0)})).catch((function(){s.setState({alert:!0})})))},s.toggleMicrophone=function(){s.state.audioNew?s.stopMicrophone():s.getMicrophone()},s.onUserStop=function(){s.setState({screenAccess:!1,showDialog:!1})},s.state={alert:!1,enter:!1,audio:!1,video:!0,audioAccess:!1,videoAccess:!1,screenAccess:!1,audioNew:null,isShowModal:!1,screenShot:null,faces:0,speedInMbps:0,showDialog:!1,source:"",responseId:"",showDialogScreen:!1},s.videoTag=u.a.createRef(),s.webcamRef=u.a.createRef(),s.childRef=u.a.createRef(),s}return Object(r.a)(a,[{key:"componentDidUnmount",value:function(){window.onbeforeunload=null}},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(n.a.mark((function e(t){var a,s,i=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t&&t.UserReducer,s=this.props&&this.props.UserReducer,a.isScreenShotDataArrived===s.isScreenShotDataArrived||!s.screenShot||!s.screenShot.data){e.next=7;break}return s.isScreenShotDataArrived=!1,e.next=6,this.setState({faces:s.screenShot.data.faces?s.screenShot.data.faces:0});case 6:s.screenShot.data.faces?/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?this.childRef.current.getAccess():this.setState({showDialogScreen:!0}):(this.props.UserAction.addEvent({responseId:this.state.responseId,event:{type:"interview",event:"Preview check failed",message:"No Face Detected",timestamp:(new Date).toISOString()}}),U.store.addNotification({title:"",message:"Please Make Sure Your Face is visible and there is proper lighting!",type:"warning",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2500}}),setTimeout((function(){i.capture()}),2500));case 7:s.screenshotError&&(s.screenshotError=!1,setTimeout((function(){i.capture()}),5e3));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMicrophone",value:function(){var e=Object(i.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:t=e.sent,this.setState({audioNew:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopMicrophone",value:function(){this.state.audioNew.getTracks().forEach((function(e){return e.stop()})),this.setState({audioNew:null})}},{key:"render",value:function(){var e=this;return localStorage.getItem("login")?u.a.createElement("div",{className:"preview-main-div"},u.a.createElement(Q.a,{ref:this.childRef,onScreenAccess:this.onScreenAccess,onUserStop:this.onUserStop}),u.a.createElement(B.a,{className:"dialog-box",open:this.state.showDialog,onClose:function(){e.setState({showDialog:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.a.createElement("div",{className:"dialog-wrapper"},u.a.createElement("div",{className:"left-div"},u.a.createElement("div",{className:"unstable-image"},u.a.createElement("img",{src:z.a})),u.a.createElement("div",{className:"unstable-text-1"},"Your internet connection is unstable"),u.a.createElement("div",{className:"unstable-text-2"},"Something is temporarily wrong with your internet connection")),u.a.createElement("div",{className:"right-div"},u.a.createElement("div",{onClick:this.handleInterview,className:"Modal-div"},"Continue Anyway ",u.a.createElement(T.a,{style:{color:"#fff"}}))))),u.a.createElement(B.a,{className:"dialog-box",open:this.state.showDialogScreen,onClose:function(){e.setState({showDialogScreen:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.a.createElement("div",{className:"dialog-wrapper"},u.a.createElement("div",{className:"left-div"},u.a.createElement("div",{className:"unstable-text-1"},"Please Click on button to provide access")),u.a.createElement("div",{className:"right-div"},u.a.createElement("div",{onClick:this.handleScreenAccess,className:"Modal-div"},"Screen Access")))),this.state.isShowModal?u.a.createElement(O,{isShowModal:this.state.isShowModal,onCloseModal2:function(){e.setState({isShowModal:!1})},showClose:!0,className:"FirstModal"},u.a.createElement("div",{className:"FirstModal-main"},window.screen.width>=1024?u.a.createElement("video",{controls:!0,autoPlay:!0},this.state.source?u.a.createElement("source",{src:this.state.source,type:"video/mp4"}):null):null,u.a.createElement("div",{className:"message"},"Please Allow",this.state.videoAccess||this.state.audioAccess?!this.state.videoAccess&&this.state.audioAccess?" Camera/Webcam ":this.state.videoAccess&&!this.state.audioAccess?" Microphone ":null:" Microphone and Camera/Webcam ","Settings"))):null,u.a.createElement("div",{className:"previews-heading"},window.screen.width>1024?u.a.createElement(m.a,null,"Preview"):null),u.a.createElement("div",{className:"previews-subHeading1"},window.screen.width>1024?u.a.createElement(m.a,null,"Check all connections before starting"):null),u.a.createElement("div",{className:"page-content-preview "},u.a.createElement("div",{className:"row-wrapper"},u.a.createElement("div",{className:"left-div-new"},u.a.createElement("div",{className:"video-div-preview"},u.a.createElement("div",{className:"interview-video"},u.a.createElement(g.a,{muted:!0,audio:this.state.audio,ref:this.webcamRef,videoConstraints:{facingMode:"user"},autoPlay:!0,screenshotFormat:"image/jpeg"}))),u.a.createElement("div",{className:"second-wrapper"},u.a.createElement("div",{className:"birbal-logo-preview2"},u.a.createElement("img",{style:{maxWidth:"100px"},src:N.a})),u.a.createElement("div",{className:"turn-on-2"},"Please turn on the Video and mic before starting the interview."),u.a.createElement("div",{className:"main-flex"},u.a.createElement("div",{style:{display:"flex"},className:"tick-div"},u.a.createElement("div",{className:"flex-div-preview"},this.state.audioAccess?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{style:{backgroundColor:"#F11A1A"},className:"icon-box"}," ",u.a.createElement(y.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}}))," ",u.a.createElement("div",{className:"access-text"}," Audio Access")),u.a.createElement("div",{className:"flex-div-preview"},this.state.videoAccess?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{style:{backgroundColor:"#F11A1A"},className:"icon-box"}," ",u.a.createElement(y.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}}))," ",u.a.createElement("div",{className:"access-text"},"Video Access")),u.a.createElement("div",{className:"only-tab-div flex-div-preview"},this.state.faces?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{style:{backgroundColor:"#F11A1A"},className:"icon-box"}," ",u.a.createElement(y.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}}))," ",u.a.createElement("div",{className:"access-text"},"Lighting Conditions")),u.a.createElement("div",{className:"only-tab-div flex-div-preview"},localStorage.getItem("uploadSpeed")&&localStorage.getItem("uploadSpeed")>1?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{className:"icon-box"},u.a.createElement(x.a,{style:{font:"bold",height:"100%",width:"100%"}})," ")," ",u.a.createElement("div",{className:"access-text"},"Internet Speed")),u.a.createElement("div",{className:"only-tab-div flex-div-preview"},this.state.screenAccess?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{style:{backgroundColor:"#F11A1A"},className:"icon-box"}," ",u.a.createElement(y.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}}))," ",u.a.createElement("div",{className:"access-text"},"Screen Access"))),this.state.audioNew?u.a.createElement("div",{className:"audio-bar"},u.a.createElement("div",{className:"flex-div-preview-2"},u.a.createElement("div",{className:"div-1"}," ",u.a.createElement("img",{src:P.a})," "),u.a.createElement("div",{style:{height:"20px"},className:"div-2"}," ",u.a.createElement(C.a,{audio:this.state.audioNew})," "))):null),u.a.createElement("div",{className:"main-flex-new"},u.a.createElement("div",{style:{display:"flex"},className:"tick-div-new"},u.a.createElement("div",{className:"flex-div-preview"},this.state.faces?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{style:{backgroundColor:"#F11A1A"},className:"icon-box"}," ",u.a.createElement(y.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}}))," ",u.a.createElement("div",{className:"access-text"},"Lighting Conditions")),u.a.createElement("div",{className:"flex-div-preview"},localStorage.getItem("uploadSpeed")&&localStorage.getItem("uploadSpeed")>1?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{className:"icon-box"},u.a.createElement(x.a,{style:{font:"bold",height:"100%",width:"100%"}})," ")," ",u.a.createElement("div",{className:"access-text"},"Internet Speed")),u.a.createElement("div",{className:"flex-div-preview"},this.state.screenAccess?u.a.createElement("div",{style:{backgroundColor:"#04724D"},className:"icon-box"},u.a.createElement(w.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}})):u.a.createElement("div",{style:{backgroundColor:"#F11A1A"},className:"icon-box"}," ",u.a.createElement(y.a,{style:{color:"#fff",font:"bold",height:"15px",width:"15px"}}))," ",u.a.createElement("div",{className:"access-text"},"Screen Access")))),this.state.audioNew?u.a.createElement("div",{className:"audio-bar-2"},u.a.createElement("div",{className:"flex-div-preview-2"},u.a.createElement("div",{className:"div-1"}," ",u.a.createElement("img",{src:P.a})," "),u.a.createElement("div",{style:{height:"20px"},className:"div-2"}," ",u.a.createElement(C.a,{audio:this.state.audioNew})," "))):null,u.a.createElement("div",{className:"only-mobile-button"},this.state.videoAccess&&this.state.audioAccess&&this.state.screenAccess&&this.state.faces?u.a.createElement(v.a,{className:"startInterviewButton",variant:"contained",onClick:this.handleInterview,style:{marginTop:"30px",backgroundColor:"#04724D",color:"white",borderRadius:"4px",textTransform:"none",fontSize:"13px",fontWeight:"500",whiteSpace:"nowrap",width:"100%"}},"Start Interview"):u.a.createElement("div",{style:{padding:"20px 0"}},u.a.createElement(F.a,{style:{color:"#04724D"}}))))),u.a.createElement("div",{className:"preview-start previews-subHeading right-div-new"},u.a.createElement(m.a,null,"Please turn on the Video and mic before starting the interview."),this.state.videoAccess&&this.state.audioAccess&&this.state.faces&&this.state.screenAccess?u.a.createElement(v.a,{className:"startInterviewButton",variant:"contained",onClick:this.handleInterview,style:{marginTop:"30px",backgroundColor:"#04724D",color:"white",borderRadius:"20px",padding:"12px 60px",textTransform:"none",fontSize:"22px",fontWeight:"600",whiteSpace:"nowrap"}},"Start Interview"):u.a.createElement("div",{style:{padding:"20px 0"}},u.a.createElement(F.a,{style:{color:"#04724D"}}))))),u.a.createElement("div",{style:{display:"flex",justifyContent:"end",marginRight:"30px"},className:"birbal-logo-preview"},u.a.createElement("img",{style:{maxWidth:"100px"},src:N.a}))):u.a.createElement("div",null," Access Blocked")}}]),a}(d.Component);t.default=Object(h.b)((function(e){return{UserReducer:e.UserReducer}}),(function(e){return{UserAction:Object(j.b)(M,e)}}))(Object(p.e)(W))},250:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAeQAAAHkBOLWIEgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFZSURBVDiNnZJBSwJBFMffzOyaoW2LBiIpspgEXuobZBcvXTp06hN4DWKvy95C+gB+iI518ZIdukZdhJCYJEPCjDWVFdaZ6bTbsO6h9p3m/d///f7wGCSEALmOc5n7nVTyVGDENZYYWZQu/JlZLlaaL2892Y8hVFPGc8gjm4P5ojX03DNfPy+Vqg+T6U3YHwDsQ6TIAwFAAAPxe8S5IiICA6HzpPXCQwAAe3d7yzQK+7JmGvmDFcCc8XQUYOiyxuvCvZC1ztfsKgDYhqFHLf6lbMPQcdsZd+MC2s64iz0u1LgAjwt15ar/Laxi5MVdVjHycF3PVuMC6nq2ii1KnbgAi1In+H0pgmdRpvw6aWlEuRbLX62WSZ/47+CItb3vSmTK8/tnkw4eZa1Jh3crAOtWzgBAAAw4ML8XGC8RAA8HKGFhg+APobJJYS3Z0Fhi5OuX/X7XLBePwv4flUNx5gxqBEIAAAAASUVORK5CYII="},251:function(e,t,a){"use strict";var s=a(9),n=a.n(s),i=a(80),o=a(55),r=a(0),c=a.n(r),l=a(33),d=a(28),u=a(13),m=Object(r.forwardRef)((function(e,t){var a=c.a.useState(!1),s=Object(o.a)(a,2),l=s[0],d=s[1],u=c.a.useRef(null),m=c.a.useState(!1),p=Object(o.a)(m,2),h=p[0],v=p[1],f=c.a.useState(!1),g=Object(o.a)(f,2),b=g[0],w=g[1],A=c.a.useState(!1),y=Object(o.a)(A,2),E=y[0],x=y[1],S=c.a.useState([]),N=Object(o.a)(S,2),C=N[0],k=N[1],I=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),D=e.UserReducer,O=D.capturingNew,M=D.abortNew,j=D.accessNew,U=D.screenRecordedFile,R=D.streamNew;Object(r.useEffect)((function(){console.log(j),d(O),w(j),v(M),R&&x(R)}),[O,M,j,U]),Object(r.useImperativeHandle)(t,(function(){return{getAccess:function(){P()},startCapture:function(){b&&B()},stopCapture:function(){l&&z()},abortCapture:function(){l&&V()},closeAccess:function(){b&&T()}}}));var P=c.a.useCallback(Object(i.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen",frameRate:5,height:720,videoBitsPerSecond:625e3}});case 2:(a=t.sent)?(x(a),w(!0),e.UserAction.addStream(a),e.UserAction.getAccess(),e.onScreenAccess()):(console.log("inside1"),w(!1),e.UserAction.closeAccess()),a.getVideoTracks()[0].onended=function(){F()};case 5:case"end":return t.stop()}}),t)}))),[b,E,w,x]),F=c.a.useCallback((function(){v(!0),d(!1),w(!1),e.UserAction.abortCapture(!0),e.UserAction.stopCapture(),e.UserAction.closeAccess(),e.onUserStop(),k([])}),[b,w,u,d,v]),B=c.a.useCallback((function(){u.current=new MediaRecorder(E,{mimeType:I?'video/mp4; codecs="avc1.42E01E, mp4a.40.2"':"video/webm"}),u.current.start(),e.onRecordStart(),d(!0),v(!1),e.UserAction.startCapture(),e.UserAction.abortCapture(!1),u.current.addEventListener("dataavailable",L)}),[b,E,d,v,u]),L=c.a.useCallback((function(e){var t=e.data;t.size>0&&k((function(e){return e.concat(t)}))}),[k]),z=c.a.useCallback((function(){u.current.stop(),e.onRecordStop(),d(!1),e.UserAction.stopCapture()}),[u,d]),V=c.a.useCallback((function(){v(!0),d(!1),e.UserAction.abortCapture(!0),e.UserAction.stopCapture(),u.current.stop(),e.onRecordStop(),k([]),e.onAbort()}),[u,d,v]),T=c.a.useCallback((function(){E.getTracks().forEach((function(e){"live"==e.readyState&&e.stop()})),console.log("inside2")}),[E,b]),q=function(){console.log("inside3"),v(!1),d(!1),k([]),e.UserAction.stopCapture(),e.UserAction.abortCapture(!1)};if(console.log("recorded",C.length,l,h,b),C.length>0&&0==l&&0==h){var Q=new Blob(C,{type:"video/webm"});e.onVideoFile(Q),q()}else C.length>0&&0==l&&1==h&&q();return c.a.createElement("div",null)}));t.a=Object(l.b)((function(e){return{UserReducer:e.UserReducer}}),(function(e){return{UserAction:Object(d.b)(u,e)}}),null,{forwardRef:!0})(m)},253:function(e,t,a){"use strict";var s=a(46),n=a(47),i=a(90),o=a(64),r=a(63),c=a(0),l=a.n(c),d=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).canvas=l.a.createRef(),n.bar=l.a.createRef(),n}return Object(n.a)(a,[{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){for(var e=this.props,t=e.audioData,a=e.bufferLength,s=0,n=0;n<a;n++)s+=10*Math.abs(128-t[n]);this.average=s/a,this.progressWidth={width:30*Math.log(this.average)-40,backgroundColor:"rgba(".concat(30*Math.log(this.average),",").concat(255-30*Math.log(this.average),", 0)")}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"volume",style:this.progressWidth}))}}]),a}(c.Component),u=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={audioData:new Uint8Array(0)},n.tick=n.tick.bind(Object(i.a)(n)),n.count=0,n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=128,this.analyser.minDecibels=-90,this.analyser.maxDecibels=-10,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.source=this.audioContext.createMediaStreamSource(this.props.audio),this.source.connect(this.analyser),this.rafId=requestAnimationFrame(this.tick)}},{key:"tick",value:function(){this.analyser.getByteTimeDomainData(this.dataArray),this.count+=1,this.count%20==0&&(this.count=0,this.setState({audioData:this.dataArray})),this.rafId=requestAnimationFrame(this.tick)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rafId),this.analyser.disconnect(),this.source.disconnect()}},{key:"render",value:function(){return l.a.createElement(d,{audioData:this.state.audioData,bufferLength:this.bufferLength})}}]),a}(c.Component);t.a=u},267:function(e,t,a){e.exports=a.p+"static/media/errorImage.2c02cd24.svg"},268:function(e,t,a){e.exports=a.p+"static/media/warning.d58f1327.svg"},655:function(e,t,a){},656:function(e,t,a){e.exports=a.p+"static/media/animationtopImg.8d498b22.svg"},657:function(e,t,a){e.exports=a.p+"static/media/audioIconImg.ac02f0c2.svg"},658:function(e,t,a){"use strict";var s=a(86),n=a(87);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,s(a(88)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},659:function(e,t,a){e.exports=a.p+"static/media/sampleVideo.5c31d513.mp4"},660:function(e,t,a){"use strict";var s=a(86),n=a(87);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,s(a(88)).default)(i.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");t.default=o},661:function(e,t,a){"use strict";var s=a(86),n=a(87);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,s(a(88)).default)(i.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=o},662:function(e,t,a){"use strict";var s=a(86),n=a(87);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,s(a(88)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=o},663:function(e,t,a){"use strict";var s=a(86),n=a(87);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,s(a(88)).default)(i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=o},664:function(e,t,a){"use strict";var s=a(1),n=a(7),i=a(0),o=(a(8),a(11)),r=a(16),c=a(31),l=i.forwardRef((function(e,t){var a=e.classes,r=e.className,l=e.color,d=void 0===l?"primary":l,u=e.disableShrink,m=void 0!==u&&u,p=e.size,h=void 0===p?40:p,v=e.style,f=e.thickness,g=void 0===f?3.6:f,b=e.value,w=void 0===b?0:b,A=e.variant,y=void 0===A?"indeterminate":A,E=Object(n.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),x={},S={},N={};if("determinate"===y||"static"===y){var C=2*Math.PI*((44-g)/2);x.strokeDasharray=C.toFixed(3),N["aria-valuenow"]=Math.round(w),x.strokeDashoffset="".concat(((100-w)/100*C).toFixed(3),"px"),S.transform="rotate(-90deg)"}return i.createElement("div",Object(s.a)({className:Object(o.a)(a.root,r,"inherit"!==d&&a["color".concat(Object(c.a)(d))],{determinate:a.determinate,indeterminate:a.indeterminate,static:a.static}[y]),style:Object(s.a)({width:h,height:h},S,v),ref:t,role:"progressbar"},N,E),i.createElement("svg",{className:a.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},i.createElement("circle",{className:Object(o.a)(a.circle,m&&a.circleDisableShrink,{determinate:a.circleDeterminate,indeterminate:a.circleIndeterminate,static:a.circleStatic}[y]),style:x,cx:44,cy:44,r:(44-g)/2,fill:"none",strokeWidth:g})))}));t.a=Object(r.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(l)}}]);
//# sourceMappingURL=7.b471baeb.chunk.js.map