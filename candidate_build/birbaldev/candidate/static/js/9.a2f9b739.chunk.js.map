{"version":3,"sources":["components/Atoms/Modal.js","containers/Preview/preview.js","assets/images/audio.png","containers/Test/screenRecording.js","containers/Preview/AudioVisualizeBar.js","containers/Preview/AudioAnalyser.js","assets/images/warning.svg","../node_modules/@material-ui/icons/Close.js","../node_modules/@material-ui/icons/ArrowRight.js","../node_modules/@material-ui/icons/Mic.js","../node_modules/@material-ui/icons/Check.js","../node_modules/@material-ui/icons/Clear.js","../node_modules/@material-ui/icons/Info.js","../node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js"],"names":["SimpleModal","props","Modal","open","isShowModal","onClose","onCloseModal","aria-labelledby","aria-describedby","onBackdropClick","disableAutoFocus","disableEnforceFocus","disableRestoreFocus","style","zIndex","position","top","margin","overflow","height","display","justifyContent","className","showClose","onClick","onCloseModal2","styleIcon","right","cursor","icon","src","width","alt","color","fontSize","children","indexedDB","window","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","request","IDBTransaction","webkitIDBTransaction","OIDBTransaction","msIDBTransaction","onsuccess","event","target","result","onerror","console","log","onupgradeneeded","createObjectStore","keyPath","amplitude","Preview","componentDidMount","a","history","location","state","response","setState","responseId","id","ReactGA","pageview","pathname","onbeforeunload","navigator","mediaDevices","getUserMedia","audio","then","stream","audioAccess","catch","e","UserAction","addEvent","type","message","timestamp","Date","toISOString","video","videoAccess","source","getMicrophone","displaySpeed","localStorage","getItem","faces","showDialog","handleScreenAccess","childRef","current","getAccess","showDialogScreen","onScreenAccess","screenAccess","capture","image","imgSrc","webcamRef","getScreenshot","substring","length","screenShot","verifyScreenshot","base64","handleInterview","totalMcq","totalVerbal","totalCoding","sequenceOrder","verbalQuestionsList","mcqQuestionsList","codingQuestionsList","questions","newResponse","questionType","mcqQuestions","verbalQuestions","codingQuestions","order","map","el","name","toLowerCase","statusCode","question","find","item","push","includes","index","indexOf","splice","level","metadata","Page","setItem","alert","enter","setTimeout","data","toggleMicrophone","audioNew","stopMicrophone","onUserStop","amplitudeEvent","voiceMessage","handleCloseAudioPopup","audioPopup","speedInMbps","videoTag","React","createRef","prevProps","prev","UserReducer","cur","this","isScreenShotDataArrived","test","userAgent","vendor","store","addNotification","title","container","animationIn","animationOut","dismiss","duration","screenshotError","getTracks","forEach","track","stop","ref","Dialog","warning","screen","controls","autoPlay","AudioAnalyser","Typography","muted","videoConstraints","facingMode","screenshotFormat","maxWidth","birballogo","backgroundColor","font","Button","variant","marginTop","borderRadius","textTransform","fontWeight","whiteSpace","padding","CircularProgress","marginRight","Component","connect","dispatch","bindActionCreators","Actions","withRouter","module","exports","ScreenRecording","forwardRef","useState","capturing","setCapturing","mediaRecorderRef","useRef","abort","setAbort","access","setAccess","setStream","recordedChunks","setRecordedChunks","isSafari","capturingNew","abortNew","accessNew","screenRecordedFile","streamNew","useEffect","useImperativeHandle","startCapture","handleStartCaptureClick","stopCapture","handleStopCaptureClick","abortCapture","handleAbortCaptureClick","closeAccess","useCallback","getDisplayMedia","mediaSource","frameRate","videoBitsPerSecond","streamCopy","getVideoTracks","videoTrack","getSettings","screenDetail","displaySurface","addStream","onended","handleUserStop","MediaRecorder","mimeType","start","onRecordStart","addEventListener","handleDataAvailable","size","concat","onRecordStop","onAbort","readyState","reset","blob","Blob","onVideoFile","AudioVisualiserBar","canvas","bar","draw","audioData","bufferLength","sum","i","Math","abs","average","progressWidth","Uint8Array","tick","bind","count","audioContext","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","minDecibels","maxDecibels","frequencyBinCount","dataArray","createMediaStreamSource","rafId","requestAnimationFrame","getByteTimeDomainData","cancelAnimationFrame","disconnect","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","value","default","_default","createElement","d","classes","_props$color","_props$disableShrink","disableShrink","_props$size","_props$thickness","thickness","_props$value","_props$variant","other","_objectWithoutProperties","circleStyle","rootStyle","rootProps","circumference","PI","strokeDasharray","toFixed","round","strokeDashoffset","transform","_extends","clsx","root","capitalize","determinate","indeterminate","static","role","svg","viewBox","SIZE","circle","circleDisableShrink","circleDeterminate","circleIndeterminate","circleStatic","cx","cy","r","fill","strokeWidth","withStyles","theme","transition","transitions","create","animation","colorPrimary","palette","primary","main","colorSecondary","secondary","stroke","transformOrigin","flip"],"mappings":"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","file":"static/js/9.a2f9b739.chunk.js","sourcesContent":["import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\n\r\nexport default function SimpleModal(props) {\r\n    // const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Modal\r\n                open={props.isShowModal}\r\n                onClose={props.onCloseModal}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n                onBackdropClick={props.onCloseModal}\r\n                disableAutoFocus={true}\r\n                disableEnforceFocus={true}\r\n                disableRestoreFocus={true}\r\n                style={{ zIndex: 200,     position:'absolute',\r\n                top:'10%',\r\n                margin:'auto',\r\n                overflow:'scroll',\r\n                height:'100%',\r\n                display:'flex',\r\n                justifyContent:'center',\r\n            \r\n             }}\r\n            >\r\n                <div\r\n                    // /*style={modalStyle}*/ className={props.preview ? classes.nopadding : classes.paper}\r\n                \r\n                    className={props.className ? props.className : null}\r\n                >\r\n                    {props.showClose && (\r\n                        <div\r\n                            // className=\"close\"\r\n                            onClick={props.onCloseModal2}\r\n                            style={props.styleIcon ? props.styleIcon : { position: 'absolute', right: '10px',cursor:'pointer' }}\r\n                        >\r\n                            {/* <img src={Cancel} width=\"20px\" alt={\"\"} /> */}\r\n                            {props.icon ? (\r\n                                <img src={props.icon} width=\"20px\" alt={''} />\r\n                            ) : (\r\n                                <CloseIcon style={{ color: '#6B6C6F', fontSize: 'large' }} />\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                    {props.children}\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"../../styles/preview.css\";\r\nimport Webcam from \"react-webcam\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport birballogo from \"../../assets/images/instructions/birballogo.png\";\r\nimport AudioAnalyser from \"./AudioAnalyser\";\r\nimport Modal from \"../../components/Atoms/Modal\";\r\nimport * as Actions from \"../../store/User/UserAction\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { store } from \"react-notifications-component\";\r\nimport audio from \"../../assets/images/audio.png\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport warning from \"../../assets/images/warning.svg\";\r\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\r\nimport ReactGA from \"react-ga\";\r\nimport ScreenRecording from \"../Test/screenRecording\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\n\r\nlet indexedDB =\r\n    window.indexedDB ||\r\n    window.webkitIndexedDB ||\r\n    window.mozIndexedDB ||\r\n    window.OIndexedDB ||\r\n    window.msIndexedDB,\r\n  IDBTransaction =\r\n    window.IDBTransaction ||\r\n    window.webkitIDBTransaction ||\r\n    window.OIDBTransaction ||\r\n    window.msIDBTransaction,\r\n  dbVersion = 2;\r\n\r\nlet request = indexedDB.open(\"elephantFiles\", dbVersion);\r\n\r\nrequest.onsuccess = function (event) {\r\n  let db = event.target.result;\r\n\r\n  db.onerror = function (event) {\r\n    console.log(\"Error creating/accessing IndexedDB database\");\r\n  };\r\n};\r\nrequest.onupgradeneeded = function (event) {\r\n  let db = event.target.result;\r\n  let objectStore = db.createObjectStore(\"videoAnswers\", {\r\n    keyPath: \"questionId\",\r\n  });\r\n};\r\n\r\nlet amplitude = 0;\r\n\r\nexport class Preview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      alert: false,\r\n      enter: false,\r\n      audio: false,\r\n      video: true,\r\n      audioAccess: false,\r\n      videoAccess: false,\r\n      screenAccess: false,\r\n      audioNew: null,\r\n      isShowModal: false,\r\n      screenShot: null,\r\n      faces: 0,\r\n      speedInMbps: 0,\r\n      showDialog: false,\r\n      source: \"\",\r\n      responseId: \"\",\r\n      showDialogScreen: false,\r\n      audioPopup: false,\r\n      voiceMessage: \"\",\r\n    };\r\n\r\n    this.videoTag = React.createRef();\r\n    this.webcamRef = React.createRef();\r\n    this.childRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    const { response } =\r\n      this.props &&\r\n      this.props.history &&\r\n      this.props.history.location &&\r\n      this.props.history.location.state;\r\n    await this.setState({\r\n      responseId: response.id,\r\n    });\r\n    ReactGA.pageview(window.location.pathname);\r\n    window.onbeforeunload = function () {\r\n      return true;\r\n    };\r\n\r\n    await navigator.mediaDevices\r\n      .getUserMedia({ audio: true })\r\n      .then(async (stream) => {\r\n        await this.setState({ audioAccess: true });\r\n      })\r\n      .catch((e) => {\r\n        this.setState({ audioAccess: false, isShowModal: true });\r\n        this.props.UserAction.addEvent({\r\n          responseId: this.state.responseId,\r\n          event: {\r\n            type: \"interview\",\r\n            event: \"Preview check failed\",\r\n            message: \"Audio Access not granted\",\r\n            timestamp: new Date().toISOString(),\r\n          },\r\n        });\r\n      });\r\n\r\n    await navigator.mediaDevices\r\n      .getUserMedia({ video: this.state.video })\r\n      .then((stream) => {\r\n        this.setState({ videoAccess: true });\r\n        // this.capture();\r\n      })\r\n      .catch(() => {\r\n        this.setState({ videoAccess: false, isShowModal: true });\r\n        this.props.UserAction.addEvent({\r\n          responseId: this.state.responseId,\r\n          event: {\r\n            type: \"interview\",\r\n            event: \"Preview check failed\",\r\n            message: \"Camera Access not granted\",\r\n            timestamp: new Date().toISOString(),\r\n          },\r\n        });\r\n      });\r\n\r\n    if (!this.state.videoAccess && !this.state.audioAccess) {\r\n      this.setState({\r\n        source:\r\n          \"https://birbal.s3.ap-south-1.amazonaws.com/assets/allow_both.mp4\",\r\n      });\r\n    } else if (!this.state.videoAccess && this.state.audioAccess) {\r\n      this.setState({\r\n        source:\r\n          \"https://birbal.s3.ap-south-1.amazonaws.com/assets/allow_cam.mp4\",\r\n      });\r\n    } else if (this.state.videoAccess && !this.state.audioAccess) {\r\n      this.setState({\r\n        source:\r\n          \"https://birbal.s3.ap-south-1.amazonaws.com/assets/allow_mic.mp4\",\r\n      });\r\n    }\r\n\r\n    await this.getMicrophone();\r\n  };\r\n\r\n  componentDidUnmount() {\r\n    window.onbeforeunload = null;\r\n  }\r\n\r\n  displaySpeed = () => {\r\n    if (\r\n      localStorage.getItem(\"uploadSpeed\") &&\r\n      localStorage.getItem(\"uploadSpeed\") < 1 &&\r\n      this.state.faces\r\n    ) {\r\n      this.props.UserAction.addEvent({\r\n        responseId: this.state.responseId,\r\n        event: {\r\n          type: \"interview\",\r\n          event: \"Preview check failed\",\r\n          message: \"Internet not stable\",\r\n          timestamp: new Date().toISOString(),\r\n        },\r\n      });\r\n      this.setState({\r\n        showDialog: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    const prev = prevProps && prevProps.UserReducer;\r\n    const cur = this.props && this.props.UserReducer;\r\n    // console.log('cur',cur)\r\n    if (\r\n      prev.isScreenShotDataArrived !== cur.isScreenShotDataArrived &&\r\n      cur.screenShot &&\r\n      cur.screenShot.data\r\n    ) {\r\n      cur.isScreenShotDataArrived = false;\r\n      await this.setState({\r\n        faces: cur.screenShot.data.faces ? cur.screenShot.data.faces : 0,\r\n      });\r\n      if (!cur.screenShot.data.faces) {\r\n        this.props.UserAction.addEvent({\r\n          responseId: this.state.responseId,\r\n          event: {\r\n            type: \"interview\",\r\n            event: \"Preview check failed\",\r\n            message: \"No Face Detected\",\r\n            timestamp: new Date().toISOString(),\r\n          },\r\n        });\r\n        store.addNotification({\r\n          title: \"\",\r\n          message:\r\n            \"Please Make Sure Your Face is visible and there is proper lighting!\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          animationIn: [\"animated\", \"fadeIn\"],\r\n          animationOut: [\"animated\", \"fadeOut\"],\r\n          dismiss: {\r\n            duration: 2500,\r\n          },\r\n        });\r\n        setTimeout(() => {\r\n          this.capture();\r\n        }, 2500);\r\n      } else {\r\n        // let isSafari = /^((?!chrome|android).)*safari/i.test(\r\n        //   navigator.userAgent\r\n        // );\r\n        var isChrome =\r\n          /Chrome/.test(navigator.userAgent) &&\r\n          /Google Inc/.test(navigator.vendor);\r\n        if (!isChrome) {\r\n          this.setState({\r\n            showDialogScreen: true,\r\n          });\r\n        } else {\r\n          this.childRef.current.getAccess();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (cur.screenshotError) {\r\n      cur.screenshotError = false;\r\n      setTimeout(() => {\r\n        this.capture();\r\n      }, 5000);\r\n    }\r\n  }\r\n\r\n  handleScreenAccess = () => {\r\n    const access = this.childRef.current.getAccess();\r\n    // console.log(access);\r\n\r\n    this.setState({\r\n      showDialogScreen: false,\r\n    });\r\n  };\r\n\r\n  onScreenAccess = async () => {\r\n    await this.setState({\r\n      screenAccess: true,\r\n    });\r\n\r\n    this.displaySpeed();\r\n  };\r\n\r\n  capture = () => {\r\n    const imgSrc =\r\n      this.webcamRef &&\r\n      this.webcamRef.current &&\r\n      this.webcamRef.current.getScreenshot();\r\n    let image = null;\r\n    image =\r\n      imgSrc && imgSrc.substring(\"data:image/jpeg;base64\".length + 1)\r\n        ? imgSrc.substring(\"data:image/jpeg;base64\".length + 1)\r\n        : \"notfound\";\r\n    this.setState({\r\n      screenShot: image,\r\n    });\r\n\r\n    this.props.UserAction.verifyScreenshot({\r\n      base64: image,\r\n    });\r\n  };\r\n\r\n  handleInterview = () => {\r\n    let totalMcq = 0;\r\n    let totalVerbal = 0;\r\n    let totalCoding = 0;\r\n    let sequenceOrder = \"\";\r\n    let verbalQuestionsList = [];\r\n    let mcqQuestionsList = [];\r\n    let codingQuestionsList = [];\r\n    const { response, questions, newResponse } =\r\n      this.props &&\r\n      this.props.history &&\r\n      this.props.history.location &&\r\n      this.props.history.location.state;\r\n    const { questionType, mcqQuestions, verbalQuestions, codingQuestions } =\r\n      response;\r\n    let order =\r\n      questionType &&\r\n      questionType.length > 0 &&\r\n      questionType.map((el) => el.name && el.name.toLowerCase());\r\n    // questionType[0] &&\r\n    // questionType[0].name;\r\n\r\n    mcqQuestions &&\r\n      mcqQuestions.length > 0 &&\r\n      mcqQuestions.map((el) => {\r\n        if (el.statusCode === 1) {\r\n          const question =\r\n            questions &&\r\n            questions.length > 0 &&\r\n            questions.find((item) => el.id === item.id);\r\n          if (question) {\r\n            mcqQuestionsList.push(question);\r\n          }\r\n        }\r\n      });\r\n    codingQuestions &&\r\n      codingQuestions.length > 0 &&\r\n      codingQuestions.map((el) => {\r\n        if (el.statusCode === 1) {\r\n          const question =\r\n            questions &&\r\n            questions.length > 0 &&\r\n            questions.find((item) => el.id === item.id);\r\n          if (question) {\r\n            codingQuestionsList.push(question);\r\n          }\r\n        }\r\n      });\r\n    verbalQuestions &&\r\n      verbalQuestions.length > 0 &&\r\n      verbalQuestions.find((el) => {\r\n        if (el.statusCode === 1) {\r\n          const question =\r\n            questions &&\r\n            questions.length > 0 &&\r\n            questions.find((item) => el.id === item.id);\r\n          if (question) {\r\n            verbalQuestionsList.push(question);\r\n          }\r\n        }\r\n      });\r\n    totalMcq = mcqQuestionsList.length;\r\n    totalVerbal = verbalQuestionsList.length;\r\n    totalCoding = codingQuestionsList.length;\r\n    console.log(totalMcq, totalVerbal, totalCoding);\r\n    if (totalMcq === 0 && order.includes(\"mcq\")) {\r\n      let index = order.indexOf(\"mcq\");\r\n      if (index !== -1) {\r\n        order.splice(index, 1);\r\n      }\r\n    }\r\n    if (totalVerbal === 0 && order.includes(\"verbal\")) {\r\n      let index = order.indexOf(\"verbal\");\r\n      if (index !== -1) {\r\n        order.splice(index, 1);\r\n      }\r\n    }\r\n    if (totalCoding === 0 && order.includes(\"coding\")) {\r\n      let index = order.indexOf(\"coding\");\r\n      if (index !== -1) {\r\n        order.splice(index, 1);\r\n      }\r\n    }\r\n    if (\r\n      ((totalMcq > 0 && totalVerbal > 0 && totalCoding > 0) ||\r\n        (totalMcq > 0 && totalVerbal > 0 && totalCoding === 0) ||\r\n        (totalMcq > 0 && totalVerbal === 0 && totalCoding > 0) ||\r\n        (totalMcq === 0 && totalVerbal > 0 && totalCoding > 0)) &&\r\n      order &&\r\n      order.length > 1\r\n    ) {\r\n      sequenceOrder = order && order.length > 0 && order[0];\r\n      console.log(sequenceOrder, order);\r\n    } else if (totalMcq > 0 && (totalVerbal === 0 || totalCoding === 0)) {\r\n      sequenceOrder = \"mcq\";\r\n    } else if (totalCoding > 0 && (totalVerbal === 0 || totalMcq === 0)) {\r\n      sequenceOrder = \"coding\";\r\n    } else if ((totalMcq === 0 || totalCoding === 0) && totalVerbal > 0) {\r\n      sequenceOrder = \"verbal\";\r\n    }\r\n    if (totalMcq === 0 && totalVerbal === 0 && totalCoding === 0) {\r\n      response &&\r\n        this.state.responseId &&\r\n        this.props.UserAction.addEvent({\r\n          responseId: this.state.responseId,\r\n          event: {\r\n            type: \"debug\",\r\n            level: 3,\r\n            metadata: { Page: \"Congratulation\" },\r\n            timestamp: new Date().toISOString(),\r\n          },\r\n        });\r\n\r\n      this.props.history.push({\r\n        pathname: \"/congratulation\",\r\n      });\r\n      localStorage.setItem(\"preview\", true);\r\n    } else {\r\n      // console.log({\r\n      //   data: { response, questions, newResponse },\r\n      //   totalMcq,\r\n      //   totalVerbal,\r\n      //   totalCoding,\r\n      //   sequenceOrder,\r\n      //   verbalQuestions: verbalQuestionsList,\r\n      //   mcqQuestions: mcqQuestionsList,\r\n      //   codingQuestions: codingQuestionsList,\r\n      //   order,\r\n      // });\r\n      navigator.mediaDevices\r\n        .getUserMedia({ video: this.state.video, audio: this.state.audio })\r\n        .then((stream) => {\r\n          this.setState({ alert: false, enter: true });\r\n\r\n          setTimeout(() => {\r\n            response &&\r\n              this.state.responseId &&\r\n              this.props.UserAction.addEvent({\r\n                responseId: this.state.responseId,\r\n                event: {\r\n                  type: \"debug\",\r\n                  level: 3,\r\n                  metadata: { Page: \"Start Interview\" },\r\n                  timestamp: new Date().toISOString(),\r\n                },\r\n              });\r\n\r\n            this.props.UserAction.addEvent({\r\n              responseId: this.state.responseId,\r\n              event: {\r\n                type: \"interview\",\r\n                event: \"Preview check passed\",\r\n                timestamp: new Date().toISOString(),\r\n              },\r\n            });\r\n\r\n            this.props.history.push({\r\n              pathname: \"/interview-process\",\r\n              state: {\r\n                data: { response, questions, newResponse },\r\n                totalMcq,\r\n                totalVerbal,\r\n                totalCoding,\r\n                sequenceOrder,\r\n                verbalQuestions: verbalQuestionsList,\r\n                mcqQuestions: mcqQuestionsList,\r\n                codingQuestions: codingQuestionsList,\r\n                order,\r\n              },\r\n            });\r\n          }, 1000);\r\n          localStorage.setItem(\"preview\", true);\r\n        })\r\n\r\n        .catch(() => {\r\n          this.setState({ alert: true });\r\n        });\r\n    }\r\n  };\r\n\r\n  async getMicrophone() {\r\n    const audio = await navigator.mediaDevices.getUserMedia({\r\n      audio: true,\r\n    });\r\n    await this.setState({ audioNew: audio });\r\n    this.setState({\r\n      audioPopup: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      if (!amplitude) {\r\n        this.setState({\r\n          voiceMessage:\r\n            \"Please check your microphone, not able to listen to your voice\",\r\n        });\r\n      }\r\n    }, 2000);\r\n  }\r\n\r\n  stopMicrophone() {\r\n    this.state.audioNew.getTracks().forEach((track) => track.stop());\r\n    this.setState({ audioNew: null });\r\n  }\r\n\r\n  toggleMicrophone = () => {\r\n    if (this.state.audioNew) {\r\n      this.stopMicrophone();\r\n    } else {\r\n      this.getMicrophone();\r\n    }\r\n  };\r\n  onUserStop = () => {\r\n    this.setState({\r\n      screenAccess: false,\r\n      showDialog: false,\r\n    });\r\n  };\r\n\r\n  amplitudeEvent = (level) => {\r\n    // console.log(\"level\", level);\r\n    amplitude = level;\r\n\r\n    if (\r\n      (level === 1 || level === 2) &&\r\n      this.state.voiceMessage !==\r\n        \"Please check your microphone, you voice is very low\"\r\n    ) {\r\n      this.setState({\r\n        voiceMessage: \"Please check your microphone, you voice is very low\",\r\n      });\r\n    }\r\n    if (level === 3 || level === 4) {\r\n      this.handleCloseAudioPopup();\r\n    }\r\n  };\r\n\r\n  handleCloseAudioPopup = () => {\r\n    this.setState({\r\n      audioPopup: false,\r\n    });\r\n\r\n    this.capture();\r\n  };\r\n\r\n  render() {\r\n    const videoConstraints = {\r\n      facingMode: \"user\",\r\n    };\r\n\r\n    return localStorage.getItem(\"login\") ? (\r\n      <div className='preview-main-div'>\r\n        <ScreenRecording\r\n          ref={this.childRef}\r\n          onScreenAccess={this.onScreenAccess}\r\n          onUserStop={this.onUserStop}\r\n        />\r\n        <Dialog\r\n          className='dialog-box'\r\n          open={this.state.showDialog}\r\n          onClose={() => {\r\n            this.setState({\r\n              showDialog: false,\r\n            });\r\n          }}\r\n          aria-labelledby='alert-dialog-title'\r\n          aria-describedby='alert-dialog-description'\r\n        >\r\n          <div className='dialog-wrapper'>\r\n            <div className='left-div'>\r\n              <div className='unstable-image'>\r\n                <img src={warning} />\r\n              </div>\r\n              <div className='unstable-text-1'>\r\n                Your internet connection is unstable\r\n              </div>\r\n              <div className='unstable-text-2'>\r\n                Something is temporarily wrong with your internet connection\r\n              </div>\r\n            </div>\r\n\r\n            <div className='right-div'>\r\n              <div onClick={this.handleInterview} className='Modal-div'>\r\n                Continue Anyway <ArrowRightIcon style={{ color: \"#fff\" }} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          className='dialog-box'\r\n          open={this.state.showDialogScreen}\r\n          onClose={() => {\r\n            this.setState({\r\n              showDialogScreen: false,\r\n            });\r\n          }}\r\n          aria-labelledby='alert-dialog-title'\r\n          aria-describedby='alert-dialog-description'\r\n        >\r\n          <div className='dialog-wrapper'>\r\n            <div className='left-div'>\r\n              <div className='unstable-text-1'>\r\n                Please Click on button to provide access\r\n              </div>\r\n            </div>\r\n\r\n            <div className='right-div'>\r\n              <div onClick={this.handleScreenAccess} className='Modal-div'>\r\n                Screen Access\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Dialog>\r\n        {this.state.isShowModal ? (\r\n          <Modal\r\n            isShowModal={this.state.isShowModal}\r\n            onCloseModal2={() => {\r\n              this.setState({\r\n                isShowModal: false,\r\n              });\r\n            }}\r\n            showClose={true}\r\n            className='FirstModal'\r\n          >\r\n            <div className='FirstModal-main'>\r\n              {window.screen.width >= 1024 ? (\r\n                <video controls autoPlay={true}>\r\n                  {this.state.source ? (\r\n                    <source src={this.state.source} type='video/mp4' />\r\n                  ) : null}\r\n                </video>\r\n              ) : null}\r\n\r\n              <div className='message'>\r\n                Please Allow\r\n                {!this.state.videoAccess && !this.state.audioAccess\r\n                  ? \" Microphone and Camera/Webcam \"\r\n                  : !this.state.videoAccess && this.state.audioAccess\r\n                  ? \" Camera/Webcam \"\r\n                  : this.state.videoAccess && !this.state.audioAccess\r\n                  ? \" Microphone \"\r\n                  : null}\r\n                Settings\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        ) : null}\r\n        {this.state.audioPopup ? (\r\n          <Modal\r\n            isShowModal={this.state.audioPopup}\r\n            // onCloseModal2={() => {\r\n            //   this.setState({\r\n            //     isShowModal: false,\r\n            //   });\r\n            // }}\r\n            showClose={false}\r\n            className='SecondModal'\r\n          >\r\n            <div className='modal-body'>\r\n              <div className='mic-icon-div'>\r\n                <MicIcon />\r\n              </div>\r\n\r\n              <div className='audio-anayliser-div'>\r\n                <AudioAnalyser\r\n                  amplitude={this.amplitudeEvent}\r\n                  audio={this.state.audioNew}\r\n                />\r\n              </div>\r\n              <div className='speak'>Please Speak Your Name</div>\r\n              <div className='button-msg-wrapper'>\r\n                {amplitude === 1 || amplitude === 2 ? (\r\n                  <div\r\n                    className='Modal-div'\r\n                    onClick={() => {\r\n                      this.handleCloseAudioPopup();\r\n                    }}\r\n                  >\r\n                    Continue Anyway <ArrowRightIcon style={{ color: \"#fff\" }} />\r\n                  </div>\r\n                ) : null}\r\n\r\n                <div className='voice-message'>{this.state.voiceMessage}</div>\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        ) : null}\r\n        <div className='previews-heading'>\r\n          {window.screen.width > 1024 ? <Typography>Preview</Typography> : null}\r\n        </div>\r\n        <div className='previews-subHeading1'>\r\n          {window.screen.width > 1024 ? (\r\n            <Typography>Check all connections before starting</Typography>\r\n          ) : null}\r\n        </div>\r\n\r\n        <div className='page-content-preview '>\r\n          <div className='row-wrapper'>\r\n            <div className='left-div-new'>\r\n              <div className='video-div-preview'>\r\n                <div className='interview-video'>\r\n                  <Webcam\r\n                    muted={true}\r\n                    audio={this.state.audio}\r\n                    ref={this.webcamRef}\r\n                    videoConstraints={videoConstraints}\r\n                    autoPlay\r\n                    screenshotFormat='image/jpeg'\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className='second-wrapper'>\r\n                <div className='birbal-logo-preview2'>\r\n                  <img style={{ maxWidth: \"100px\" }} src={birballogo}></img>\r\n                </div>\r\n                <div className='turn-on-2'>\r\n                  Please turn on the Video and mic before starting the\r\n                  interview.\r\n                </div>\r\n\r\n                <div className='main-flex'>\r\n                  <div style={{ display: \"flex\" }} className='tick-div'>\r\n                    <div className='flex-div-preview'>\r\n                      {this.state.audioAccess ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          style={{ backgroundColor: \"#F11A1A\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          {\" \"}\r\n                          <ClearIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'> Audio Access</div>\r\n                    </div>\r\n\r\n                    <div className='flex-div-preview'>\r\n                      {this.state.videoAccess ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          style={{ backgroundColor: \"#F11A1A\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          {\" \"}\r\n                          <ClearIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'>Video Access</div>\r\n                    </div>\r\n\r\n                    <div className='only-tab-div flex-div-preview'>\r\n                      {this.state.faces ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          style={{ backgroundColor: \"#F11A1A\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          {\" \"}\r\n                          <ClearIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'>Lighting Conditions</div>\r\n                    </div>\r\n\r\n                    <div className='only-tab-div flex-div-preview'>\r\n                      {localStorage.getItem(\"uploadSpeed\") &&\r\n                      localStorage.getItem(\"uploadSpeed\") > 1 ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div className='icon-box'>\r\n                          <InfoIcon\r\n                            style={{\r\n                              font: \"bold\",\r\n                              height: \"100%\",\r\n                              width: \"100%\",\r\n                            }}\r\n                          />{\" \"}\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'>Internet Speed</div>\r\n                    </div>\r\n\r\n                    <div className='only-tab-div flex-div-preview'>\r\n                      {this.state.screenAccess ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          style={{ backgroundColor: \"#F11A1A\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          {\" \"}\r\n                          <ClearIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'>Screen Access</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {this.state.audioNew ? (\r\n                    <div className='audio-bar'>\r\n                      <div className='flex-div-preview-2'>\r\n                        <div className='div-1'>\r\n                          {\" \"}\r\n                          <img src={audio} />{\" \"}\r\n                        </div>\r\n                        <div style={{ height: \"20px\" }} className='div-2'>\r\n                          {\" \"}\r\n                          <AudioAnalyser\r\n                            amplitude={() => null}\r\n                            audio={this.state.audioNew}\r\n                          />{\" \"}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n\r\n                <div className='main-flex-new'>\r\n                  <div style={{ display: \"flex\" }} className='tick-div-new'>\r\n                    <div className='flex-div-preview'>\r\n                      {this.state.faces ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          style={{ backgroundColor: \"#F11A1A\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          {\" \"}\r\n                          <ClearIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'>Lighting Conditions</div>\r\n                    </div>\r\n\r\n                    <div className='flex-div-preview'>\r\n                      {localStorage.getItem(\"uploadSpeed\") &&\r\n                      localStorage.getItem(\"uploadSpeed\") > 1 ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div className='icon-box'>\r\n                          <InfoIcon\r\n                            style={{\r\n                              font: \"bold\",\r\n                              height: \"100%\",\r\n                              width: \"100%\",\r\n                            }}\r\n                          />{\" \"}\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'>Internet Speed</div>\r\n                    </div>\r\n                    <div className='flex-div-preview'>\r\n                      {this.state.screenAccess ? (\r\n                        <div\r\n                          style={{ backgroundColor: \"#04724D\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          <CheckIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          style={{ backgroundColor: \"#F11A1A\" }}\r\n                          className='icon-box'\r\n                        >\r\n                          {\" \"}\r\n                          <ClearIcon\r\n                            style={{\r\n                              color: \"#fff\",\r\n                              font: \"bold\",\r\n                              height: \"15px\",\r\n                              width: \"15px\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}{\" \"}\r\n                      <div className='access-text'>Screen Access</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {this.state.audioNew ? (\r\n                  <div className='audio-bar-2'>\r\n                    <div className='flex-div-preview-2'>\r\n                      <div className='div-1'>\r\n                        {\" \"}\r\n                        <img src={audio} />{\" \"}\r\n                      </div>\r\n                      <div style={{ height: \"20px\" }} className='div-2'>\r\n                        {\" \"}\r\n                        <AudioAnalyser\r\n                          amplitude={() => null}\r\n                          audio={this.state.audioNew}\r\n                        />{\" \"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n\r\n                <div className='only-mobile-button'>\r\n                  {this.state.videoAccess &&\r\n                  this.state.audioAccess &&\r\n                  this.state.screenAccess &&\r\n                  this.state.faces ? (\r\n                    <Button\r\n                      className='startInterviewButton'\r\n                      variant='contained'\r\n                      onClick={this.handleInterview}\r\n                      style={{\r\n                        marginTop: \"30px\",\r\n                        backgroundColor: \"#04724D\",\r\n                        color: \"white\",\r\n                        borderRadius: \"4px\",\r\n                        textTransform: \"none\",\r\n                        fontSize: \"13px\",\r\n                        fontWeight: \"500\",\r\n                        whiteSpace: \"nowrap\",\r\n                        width: \"100%\",\r\n                      }}\r\n                    >\r\n                      Start Interview\r\n                    </Button>\r\n                  ) : (\r\n                    <div style={{ padding: \"20px 0\" }}>\r\n                      <CircularProgress style={{ color: \"#04724D\" }} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='preview-start previews-subHeading right-div-new'>\r\n              <Typography>\r\n                Please turn on the Video and mic before starting the interview.\r\n              </Typography>\r\n              {this.state.videoAccess &&\r\n              this.state.audioAccess &&\r\n              this.state.faces &&\r\n              this.state.screenAccess ? (\r\n                <Button\r\n                  className='startInterviewButton'\r\n                  variant='contained'\r\n                  onClick={this.handleInterview}\r\n                  style={{\r\n                    marginTop: \"30px\",\r\n                    backgroundColor: \"#04724D\",\r\n                    color: \"white\",\r\n                    borderRadius: \"20px\",\r\n                    padding: \"12px 60px\",\r\n                    textTransform: \"none\",\r\n                    fontSize: \"22px\",\r\n                    fontWeight: \"600\",\r\n                    whiteSpace: \"nowrap\",\r\n                  }}\r\n                >\r\n                  Start Interview\r\n                </Button>\r\n              ) : (\r\n                <div style={{ padding: \"20px 0\" }}>\r\n                  <CircularProgress style={{ color: \"#04724D\" }} />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"end\",\r\n            marginRight: \"30px\",\r\n          }}\r\n          className='birbal-logo-preview'\r\n        >\r\n          <img style={{ maxWidth: \"100px\" }} src={birballogo}></img>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div> Access Blocked</div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  UserReducer: state.UserReducer,\r\n});\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    UserAction: bindActionCreators(Actions, dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(Preview));\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAeQAAAHkBOLWIEgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFZSURBVDiNnZJBSwJBFMffzOyaoW2LBiIpspgEXuobZBcvXTp06hN4DWKvy95C+gB+iI518ZIdukZdhJCYJEPCjDWVFdaZ6bTbsO6h9p3m/d///f7wGCSEALmOc5n7nVTyVGDENZYYWZQu/JlZLlaaL2892Y8hVFPGc8gjm4P5ojX03DNfPy+Vqg+T6U3YHwDsQ6TIAwFAAAPxe8S5IiICA6HzpPXCQwAAe3d7yzQK+7JmGvmDFcCc8XQUYOiyxuvCvZC1ztfsKgDYhqFHLf6lbMPQcdsZd+MC2s64iz0u1LgAjwt15ar/Laxi5MVdVjHycF3PVuMC6nq2ii1KnbgAi1In+H0pgmdRpvw6aWlEuRbLX62WSZ/47+CItb3vSmTK8/tnkw4eZa1Jh3crAOtWzgBAAAw4ML8XGC8RAA8HKGFhg+APobJJYS3Z0Fhi5OuX/X7XLBePwv4flUNx5gxqBEIAAAAASUVORK5CYII=\"","import React, { forwardRef, useImperativeHandle, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as Actions from \"../../store/User/UserAction\";\r\nimport { store } from \"react-notifications-component\";\r\n\r\nconst ScreenRecording = forwardRef((props, ref) => {\r\n  const [capturing, setCapturing] = React.useState(false);\r\n  const mediaRecorderRef = React.useRef(null);\r\n  const [abort, setAbort] = React.useState(false);\r\n  const [access, setAccess] = React.useState(false);\r\n  const [stream, setStream] = React.useState(false);\r\n  const [recordedChunks, setRecordedChunks] = React.useState([]);\r\n  let isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n\r\n  const { capturingNew, abortNew, accessNew, screenRecordedFile, streamNew } =\r\n    props.UserReducer;\r\n\r\n  useEffect(() => {\r\n    //  if(capturing !== capturingNew){\r\n\r\n    //  }\r\n    console.log(accessNew);\r\n    setCapturing(capturingNew);\r\n    setAccess(accessNew);\r\n    //  console.log(abortNew)\r\n    //  if(abort != abortNew){\r\n    setAbort(abortNew);\r\n    //  }\r\n    if (streamNew) {\r\n      setStream(streamNew);\r\n    }\r\n    // if(screenRecordedFile.length){\r\n    //   setRecordedChunks(screenRecordedFile)\r\n    // }\r\n    //  console.log('insidee',capturingNew,abortNew,accessNew,screenRecordedFile,streamNew)\r\n  }, [capturingNew, abortNew, accessNew, screenRecordedFile]);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    getAccess() {\r\n      getAccess();\r\n    },\r\n    startCapture() {\r\n      if (access) {\r\n        handleStartCaptureClick();\r\n      }\r\n    },\r\n    stopCapture() {\r\n      if (capturing) {\r\n        handleStopCaptureClick();\r\n      }\r\n    },\r\n    abortCapture() {\r\n      if (capturing) {\r\n        handleAbortCaptureClick();\r\n      }\r\n    },\r\n    closeAccess() {\r\n      if (access) {\r\n        closeAccess();\r\n      }\r\n    },\r\n  }));\r\n\r\n  const getAccess = React.useCallback(async () => {\r\n    let streamCopy = await navigator.mediaDevices.getDisplayMedia({\r\n      video: {\r\n        mediaSource: \"screen\",\r\n        frameRate: 5,\r\n        height: 720,\r\n        videoBitsPerSecond: 625000,\r\n      },\r\n    });\r\n    const videoTrack = await streamCopy.getVideoTracks()[0];\r\n    const screenDetail = await videoTrack.getSettings();\r\n\r\n    if (\r\n      streamCopy &&\r\n      screenDetail &&\r\n      screenDetail.displaySurface.toLowerCase() === \"monitor\"\r\n    ) {\r\n      setStream(streamCopy);\r\n      setAccess(true);\r\n      props.UserAction.addStream(streamCopy);\r\n      props.UserAction.getAccess();\r\n      props.onScreenAccess();\r\n    } else {\r\n      setAccess(false);\r\n      props.UserAction.closeAccess();\r\n      \r\n          store.addNotification({\r\n            title: \"Error\",\r\n            message: \"You need to provide Entire Screen Access to Continue\",\r\n            type: \"danger\",\r\n            container: \"top-center\",\r\n            animationIn: [\"animated\", \"fadeIn\"],\r\n            animationOut: [\"animated\", \"fadeOut\"],\r\n            dismiss: {\r\n              duration: 2000,\r\n            },\r\n          });\r\n\r\n          setTimeout(()=>{\r\n          getAccess()\r\n          },3000)\r\n    }\r\n    streamCopy.getVideoTracks()[0].onended = function () {\r\n      handleUserStop();\r\n    };\r\n  }, [access, stream, setAccess, setStream]);\r\n\r\n  const handleUserStop = React.useCallback(() => {\r\n    setAbort(true);\r\n    setCapturing(false);\r\n    setAccess(false);\r\n\r\n    props.UserAction.abortCapture(true);\r\n    props.UserAction.stopCapture();\r\n    props.UserAction.closeAccess();\r\n\r\n    props.onUserStop();\r\n    setRecordedChunks([]);\r\n  }, [access, setAccess, mediaRecorderRef, setCapturing, setAbort]);\r\n\r\n  const handleStartCaptureClick = React.useCallback(() => {\r\n    mediaRecorderRef.current = new MediaRecorder(stream, {\r\n      mimeType: isSafari\r\n        ? 'video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'\r\n        : \"video/webm\",\r\n    });\r\n    mediaRecorderRef.current.start();\r\n    console.log(mediaRecorderRef.current);\r\n    props.onRecordStart();\r\n    setCapturing(true);\r\n    setAbort(false);\r\n\r\n    props.UserAction.startCapture();\r\n    props.UserAction.abortCapture(false);\r\n    // console.log('xyzzzzz')\r\n    mediaRecorderRef.current.addEventListener(\r\n      \"dataavailable\",\r\n      handleDataAvailable\r\n    );\r\n  }, [access, stream, setCapturing, setAbort, mediaRecorderRef]);\r\n\r\n  const handleDataAvailable = React.useCallback(\r\n    ({ data }) => {\r\n      console.log(\"data\", data);\r\n      if (data.size > 0) {\r\n        console.log(\"data availbale\");\r\n        setRecordedChunks((prev) => prev.concat(data));\r\n      }\r\n    },\r\n    [setRecordedChunks]\r\n  );\r\n\r\n  const handleStopCaptureClick = React.useCallback(() => {\r\n    mediaRecorderRef.current.stop();\r\n    props.onRecordStop();\r\n    setCapturing(false);\r\n    props.UserAction.stopCapture();\r\n  }, [mediaRecorderRef, setCapturing]);\r\n\r\n  const handleAbortCaptureClick = React.useCallback(() => {\r\n    setAbort(true);\r\n    setCapturing(false);\r\n    props.UserAction.abortCapture(true);\r\n    props.UserAction.stopCapture();\r\n    mediaRecorderRef.current.stop();\r\n    props.onRecordStop();\r\n    setRecordedChunks([]);\r\n    props.onAbort();\r\n  }, [mediaRecorderRef, setCapturing, setAbort]);\r\n\r\n  const closeAccess = React.useCallback(() => {\r\n    stream.getTracks().forEach(function (track) {\r\n      console.log(track);\r\n      if (track.readyState == \"live\") {\r\n        track.stop();\r\n      }\r\n    });\r\n    console.log(\"inside2\");\r\n    // setAccess(false);\r\n    // props.UserAction.closeAccess()\r\n  }, [stream, access]);\r\n\r\n  const reset = () => {\r\n    console.log(\"inside3\");\r\n    // setAccess(false);\r\n    setAbort(false);\r\n    setCapturing(false);\r\n    setRecordedChunks([]);\r\n\r\n    props.UserAction.stopCapture();\r\n    props.UserAction.abortCapture(false);\r\n    // props.UserAction.closeAccess()\r\n  };\r\n  console.log(\"recorded\", recordedChunks.length, capturing, abort, access);\r\n  if (recordedChunks.length > 0 && capturing == false && abort == false) {\r\n    // console.log('insideee recorded')\r\n    const blob = new Blob(recordedChunks, {\r\n      type: \"video/webm\",\r\n    });\r\n    // props.UserAction.addScreenRecording(recordedChunks)\r\n    props.onVideoFile(blob);\r\n    reset();\r\n  } else if (recordedChunks.length > 0 && capturing == false && abort == true) {\r\n    reset();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* <button onClick={getAccess}>Get Access</button>\r\n      {\r\n        access?<button onClick={handleStartCaptureClick}>Start Recording</button>:\",no access\"\r\n      }\r\n      {\r\n        capturing?<button onClick={handleStopCaptureClick}>Stop Recording</button>:\",not recording yet\"\r\n      } */}\r\n      {/* {\r\n        console.log(capturing,access)\r\n      } */}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  UserReducer: state.UserReducer,\r\n});\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    UserAction: bindActionCreators(Actions, dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, {\r\n  forwardRef: true,\r\n})(ScreenRecording);\r\n","import React, { Component } from 'react';\r\n\r\nclass AudioVisualiserBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.canvas = React.createRef();\r\n    this.bar = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.draw();\r\n  }\r\n\r\n  draw() {\r\n    const { audioData, bufferLength } = this.props;\r\n    var sum  = 0;\r\n    for(var i = 0; i < bufferLength; i++) {\r\n        sum += Math.abs((128-audioData[i]))*10;\r\n    }\r\n    this.average = (sum/bufferLength);\r\n\r\n    this.progressWidth = {\r\n      width: 30*Math.log(this.average)-40,\r\n      backgroundColor: `rgba(${30*Math.log(this.average)},${255-30*Math.log(this.average)}, 0)`,\r\n    }\r\n    if(this.progressWidth.width>100){\r\n      this.props.amplitude(4);\r\n    }\r\n    else if(this.progressWidth.width>70){\r\n      this.props.amplitude(3);\r\n    }\r\n    else if(this.progressWidth.width>40){\r\n      this.props.amplitude(2);\r\n    }\r\n    if(this.progressWidth.width>0){\r\n      this.props.amplitude(1);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div>\r\n                <div className=\"volume\" style={this.progressWidth}></div>\r\n            </div>;\r\n  }\r\n}\r\n\r\nexport default AudioVisualiserBar;","import { isThisISOWeek } from 'date-fns';\r\nimport React, { Component } from 'react';\r\nimport AudioVisualiserBar from './AudioVisualizeBar';\r\n\r\nclass AudioAnalyser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { audioData: new Uint8Array(0) };\r\n    this.tick = this.tick.bind(this);\r\n    this.count = 0;\r\n    this.level = \"NA\";\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.audioContext = new (window.AudioContext ||\r\n      window.webkitAudioContext)();\r\n    this.analyser = this.audioContext.createAnalyser();\r\n    this.analyser.fftSize = 128;\r\n    this.analyser.minDecibels = -90;\r\n    this.analyser.maxDecibels = -10;\r\n    this.bufferLength = this.analyser.frequencyBinCount;\r\n    this.dataArray = new Uint8Array(this.bufferLength);\r\n    this.source = this.audioContext.createMediaStreamSource(this.props.audio);\r\n    this.source.connect(this.analyser);\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n\r\n  tick() {\r\n    this.analyser.getByteTimeDomainData(this.dataArray);\r\n    this.count+=1\r\n    if(this.count%20==0){\r\n      this.count = 0;\r\n      this.setState({ audioData: this.dataArray });\r\n    }\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n\r\n  amplitude(level){\r\n    if(this.level!=level){\r\n      this.level = level;\r\n      this.props.amplitude(level);\r\n    } \r\n  }\r\n\r\n  componentWillUnmount() {\r\n    cancelAnimationFrame(this.rafId);\r\n    this.analyser.disconnect();\r\n    this.source.disconnect();\r\n  }\r\n\r\n  render() {\r\n    return <AudioVisualiserBar audioData={this.state.audioData} bufferLength={this.bufferLength} amplitude={(level)=>this.amplitude(level)} />;\r\n  }\r\n}\r\n\r\nexport default AudioAnalyser;","module.exports = __webpack_public_path__ + \"static/media/warning.a736dff5.svg\";","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRight');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z\"\n}), 'Mic');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar SIZE = 44;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-block'\n    },\n\n    /* Styles applied to the root element if `variant=\"static\"`. */\n    static: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `variant=\"indeterminate\"`. */\n    indeterminate: {\n      animation: '$circular-rotate 1.4s linear infinite'\n    },\n\n    /* Styles applied to the root element if `variant=\"determinate\"`. */\n    determinate: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the `svg` element. */\n    svg: {\n      display: 'block' // Keeps the progress centered\n\n    },\n\n    /* Styles applied to the `circle` svg path. */\n    circle: {\n      stroke: 'currentColor' // Use butt to follow the specification, by chance, it's already the default CSS value.\n      // strokeLinecap: 'butt',\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"static\"`. */\n    circleStatic: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"indeterminate\"`. */\n    circleIndeterminate: {\n      animation: '$circular-dash 1.4s ease-in-out infinite',\n      // Some default value that looks fine waiting for the animation to kicks in.\n      strokeDasharray: '80px, 200px',\n      strokeDashoffset: '0px' // Add the unit to fix a Edge 16 and below bug.\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"determinate\"`. */\n    circleDeterminate: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n    '@keyframes circular-rotate': {\n      '0%': {\n        // Fix IE 11 wobbly\n        transformOrigin: '50% 50%'\n      },\n      '100%': {\n        transform: 'rotate(360deg)'\n      }\n    },\n    '@keyframes circular-dash': {\n      '0%': {\n        strokeDasharray: '1px, 200px',\n        strokeDashoffset: '0px'\n      },\n      '50%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-15px'\n      },\n      '100%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-125px'\n      }\n    },\n\n    /* Styles applied to the `circle` svg path if `disableShrink={true}`. */\n    circleDisableShrink: {\n      animation: 'none'\n    }\n  };\n};\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nvar CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$disableShrink = props.disableShrink,\n      disableShrink = _props$disableShrink === void 0 ? false : _props$disableShrink,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 40 : _props$size,\n      style = props.style,\n      _props$thickness = props.thickness,\n      thickness = _props$thickness === void 0 ? 3.6 : _props$thickness,\n      _props$value = props.value,\n      value = _props$value === void 0 ? 0 : _props$value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'indeterminate' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"]);\n\n  var circleStyle = {};\n  var rootStyle = {};\n  var rootProps = {};\n\n  if (variant === 'determinate' || variant === 'static') {\n    var circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = \"\".concat(((100 - value) / 100 * circumference).toFixed(3), \"px\");\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], {\n      'determinate': classes.determinate,\n      'indeterminate': classes.indeterminate,\n      'static': classes.static\n    }[variant]),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other), /*#__PURE__*/React.createElement(\"svg\", {\n    className: classes.svg,\n    viewBox: \"\".concat(SIZE / 2, \" \").concat(SIZE / 2, \" \").concat(SIZE, \" \").concat(SIZE)\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    className: clsx(classes.circle, disableShrink && classes.circleDisableShrink, {\n      'determinate': classes.circleDeterminate,\n      'indeterminate': classes.circleIndeterminate,\n      'static': classes.circleStatic\n    }[variant]),\n    style: circleStyle,\n    cx: SIZE,\n    cy: SIZE,\n    r: (SIZE - thickness) / 2,\n    fill: \"none\",\n    strokeWidth: thickness\n  })));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, function (props) {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('Material-UI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The size of the circle.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The thickness of the circle.\n   */\n  thickness: PropTypes.number,\n\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   */\n  variant: chainPropTypes(PropTypes.oneOf(['determinate', 'indeterminate', 'static']), function (props) {\n    var variant = props.variant;\n\n    if (variant === 'static') {\n      throw new Error('Material-UI: `variant=\"static\"` was deprecated. Use `variant=\"determinate\"` instead.');\n    }\n\n    return null;\n  })\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCircularProgress',\n  flip: false\n})(CircularProgress);"],"sourceRoot":""}